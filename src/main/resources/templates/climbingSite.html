<html xmlns:th="http://www.thymeleaf.org">
<head th:include="include/head.html"></head>
<body>
<div class="container">
    <header th:include="include/header.html"></header>
    <div class="row">
        <div class="col-lg-12 well">
            <legend class="h4 border-bottom" th:text="${site.name}"></legend>
            <div class="row">
                <div class="col-lg-6">
                    <img class="img-site" th:src="${site.picture}" th:alt="${site.id}">
                </div>
                <div class="col-lg-6">
                    <div class="container">
                        <div id="content" class="row">
                            <legend class="push border-bottom">Descriptif</legend>
                            <dl class="panel dl-horizontal">
                                <dt>Lieu</dt>
                                <dd th:text="${site.place}"></dd>
                                <th:block th:if="${site.level} != null">
                                    <dt>Niveaux</dt>
                                    <dd th:text="${site.level}"></dd>
                                </th:block>
                                <th:block th:if="${site.orientation} != null">
                                    <dt>Orientation</dt>
                                    <dd th:text="${site.orientation}"></dd>
                                </th:block>
                                <th:block th:if="${site.rocktype} != null">
                                    <dt>Niveaux</dt>
                                    <dd th:text="${site.rocktype}"></dd>
                                </th:block>
                               <!-- <dt>Orientation</dt>
                                <dd>Nord-Ouest.</dd>
                                <dt>rocher</dt>
                                <dd>Calcaire.</dd>
                                <dt>Altitude maximale</dt>
                                <dd>43 mètres.</dd>
                                <dt>Dernière mise à jour</dt>
                                <dd>12/12/2019</dd>
                                <dt>Qualité de l’équipement</dt>
                                <dd>Equipement excellent (Scellements galvanisés), espacé.</dd>
                                <dt>Cotation globale</dt>
                                <dd>[7a+/6c].</dd>
                                <dt>Date d'ouverture</dt>
                                <dd>14/04/2016</dd>-->
                            </dl>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 well" th:if="${site.presentation} != null">
                    <div class="container">
                        <div id="content" class="row">
                            <legend class="push border-bottom">Caractéristique</legend>
                            <dl class="panel dl-horizontal dl-pres">
                                <dt>Présentation</dt>
                                <dd th:text="${site.presentation}"></dd>
                            </dl>
                        </div>
                    </div>
                </div>

            </div>
            <ul class="list-unstyled">
                <li th:each="comment:${commentList}" class="media">
                    <img src="/img/userLogo.jpg" class="mr-3" alt="...">
                    <div class="row">
                        <div class="media-body col-10">
                            <h5 class="mt-0 mb-1" th:text="${comment.getUser().getName()}+' '+${comment.getUser().getFirstname()}"></h5>
                            <p th:text="${comment.getText()}"></p>
                        </div>
                        <span th:text="${userCurrent.getRole().equals('MEMBER')}"></span>
                        <div th:if="${userCurrent.getRole().equals('MEMBER')}" class="col-2">
                            <a th:href="@{'/editComment/'+${comment.id}}">Éditer</a><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            <a th:href="@{'/deleteComment/'+${comment.id}}">Supprimer</a>
                        </div>
                    </div>
                </li>
                <li class="media">
                    <img src="/img/userLogo.jpg" class="mr-3" alt="...">
                    <div class="media-body">
                        <h5 class="mt-0 mb-1"> Ajouter un commentaire</h5>
                        <form method="post" action="#" th:action="@{'/saveComment/'+${site.id}}" th:object="${comment}" class="col-lg-9 form-horizontal well">
                            <textarea id="title" type="text" th:field="*{text}" class="form-control"></textarea>
                            <button class="btn btn-primary" type="submit">Envoyer</button>
                        </form>
                    </div>
                </li>
            </ul>
            <div class="border-cadre row">
                <div class="col-12">
                    <legend class="push-white border-bottom">Action</legend>
                </div>
                <nav class="navbar navbar-expand">
                    <div class="container-fluid">
                        <ul class="nav navbar-nav">
                            <li><a th:href="@{'/putOfficial/'+${site.id}}">Taguer ce site</a></li>
                            <li ><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a th:href="@{'/unputOfficial/'+${site.id}}">Détaguer ce site</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <footer class="border-cadre row" th:include="include/footer.html"></footer>
</div>

</body>
</html>
